import{d as V,r as d,c as k,w as r,u as a,I,e as o,g as p,h as m,i as _,j as c,b as w,f as x,k as C,a as y,o as E,_ as N}from"./index-g3H4iXOq.js";const R={class:"register-container"},B=V({__name:"Register",setup(b){const l=d(""),n=d(""),u=d(""),g=y(),v=async()=>{var i,e,t;try{const s=await C.post("/register",{name:l.value,email:n.value,password:u.value});localStorage.setItem("token",s.data.token),g.push("/tabs/home")}catch(s){if(console.error("Error al registre:",s),((i=s.response)==null?void 0:i.status)===422){const f=s.response.data.errors;f.email?alert("Aquest email ja està registrat!"):alert("Error de validació: "+JSON.stringify(f))}else alert("Error al registrar-se: "+(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Error desconegut"))}};return(i,e)=>{const t=w("router-link");return E(),k(a(I),null,{default:r(()=>[o(a(x),{class:"ion-padding"},{default:r(()=>[p("div",R,[e[6]||(e[6]=p("h1",null,"Registre",-1)),o(a(m),{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),placeholder:"Nom",class:"input-field"},null,8,["modelValue"]),o(a(m),{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),placeholder:"Email",class:"input-field"},null,8,["modelValue"]),o(a(m),{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),type:"password",placeholder:"Contrasenya",class:"input-field"},null,8,["modelValue"]),o(a(_),{expand:"block",onClick:v},{default:r(()=>e[3]||(e[3]=[c("Registrar-se")])),_:1}),p("p",null,[e[5]||(e[5]=c("Ja tens compte? ")),o(t,{to:"/login"},{default:r(()=>e[4]||(e[4]=[c("Inicia sessió")])),_:1})])])]),_:1})]),_:1})}}}),j=N(B,[["__scopeId","data-v-040504cd"]]);export{j as default};
