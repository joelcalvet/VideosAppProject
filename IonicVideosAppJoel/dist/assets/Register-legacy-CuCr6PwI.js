System.register(["./index-legacy-kV9DobnQ.js"],(function(e,a){"use strict";var t,l,r,o,s,n,d,i,u,c,p,m,v,g,f,h,x;return{setters:[e=>{t=e.d,l=e.r,r=e.c,o=e.w,s=e.u,n=e.I,d=e.e,i=e.g,u=e.h,c=e.i,p=e.j,m=e.b,v=e.f,g=e.k,f=e.a,h=e.o,x=e._}],execute:function(){var a=document.createElement("style");a.textContent=".register-container[data-v-040504cd]{max-width:400px;margin:0 auto;padding:20px;text-align:center}h1[data-v-040504cd]{color:var(--ion-color-primary);margin-bottom:25px;font-size:2rem}p[data-v-040504cd]{color:#ccc}\n/*$vite$:1*/",document.head.appendChild(a);const y={class:"register-container"};e("default",x(t({__name:"Register",setup(e){const a=l(""),t=l(""),x=l(""),V=f(),_=async()=>{try{const e=await g.post("/register",{name:a.value,email:t.value,password:x.value});localStorage.setItem("token",e.data.token),V.push("/tabs/home")}catch(r){var e;if(console.error("Error al registre:",r),422===(null===(e=r.response)||void 0===e?void 0:e.status)){const e=r.response.data.errors;e.email?alert("Aquest email ja està registrat!"):alert("Error de validació: "+JSON.stringify(e))}else{var l;alert("Error al registrar-se: "+((null===(l=r.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)||"Error desconegut"))}}};return(e,l)=>{const g=m("router-link");return h(),r(s(n),null,{default:o((()=>[d(s(v),{class:"ion-padding"},{default:o((()=>[i("div",y,[l[6]||(l[6]=i("h1",null,"Registre",-1)),d(s(u),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),placeholder:"Nom",class:"input-field"},null,8,["modelValue"]),d(s(u),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value=e),placeholder:"Email",class:"input-field"},null,8,["modelValue"]),d(s(u),{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=e=>x.value=e),type:"password",placeholder:"Contrasenya",class:"input-field"},null,8,["modelValue"]),d(s(c),{expand:"block",onClick:_},{default:o((()=>l[3]||(l[3]=[p("Registrar-se")]))),_:1}),i("p",null,[l[5]||(l[5]=p("Ja tens compte? ")),d(g,{to:"/login"},{default:o((()=>l[4]||(l[4]=[p("Inicia sessió")]))),_:1})])])])),_:1})])),_:1})}}}),[["__scopeId","data-v-040504cd"]]))}}}));
